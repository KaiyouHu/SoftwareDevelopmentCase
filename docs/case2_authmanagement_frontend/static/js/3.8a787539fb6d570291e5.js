webpackJsonp([3],{315:function(e,t,a){var n=a(2)(a(537),a(836),null,null,null);e.exports=n.exports},340:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"记录",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"永久删除";return new l.a(function(n,i){o.MessageBox.confirm("此操作将"+t+e+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n()}).catch(function(){a.i(o.Message)({type:"info",message:"已取消此操作"})})})}t.a=n;var i=a(27),l=a.n(i),o=a(40);a.n(o)},389:function(e,t,a){e.exports={default:a(425),__esModule:!0}},416:function(e,t,a){function n(e){a(487)}var i=a(2)(a(418),a(491),n,null,null);e.exports=i.exports},418:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(389),i=a.n(n),l=a(361),o=a.n(l),r=a(518),s=(a.n(r),a(514)),c=(a.n(s),a(519)),u=(a.n(c),a(520)),d=(a.n(u),a(521)),m=(a.n(d),a(517)),h=(a.n(m),a(516)),g=(a.n(h),a(515));a.n(g);a(523),t.default={name:"jsonEditor",data:function(){return{jsonEditor:!1}},props:["value"],watch:{value:function(e){e!==this.jsonEditor.getValue()&&this.jsonEditor.setValue(i()(this.value,null,2))}},mounted:function(){var e=this;this.jsonEditor=o.a.fromTextArea(this.$refs.textarea,{mode:"application/json",lineNumbers:!0,matchBrackets:!0,fullScreen:!0,gutters:["CodeMirror-lint-markers"],foldGutter:!0,theme:"mdn-like",lint:!0}),this.jsonEditor.setValue(i()(this.value,null,2)),this.jsonEditor.on("change",function(t){e.$emit("changed",t.getValue()),e.$emit("input",t.getValue())})},methods:{getValue:function(){return this.jsonEditor.getValue()}}}},425:function(e,t,a){var n=a(6),i=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},430:function(e,t,a){t=e.exports=a(298)(!0),t.push([e.i,".CodeMirror{height:100%}.json-editor .cm-s-rubyblue span.cm-string{color:#f08047}","",{version:3,sources:["E:/Workspace/web-workspace/SoftwareDevelopmentCase/src/components/jsonEditor/index.vue"],names:[],mappings:"AACA,YACI,WAAa,CAChB,AACD,2CACI,aAAe,CAClB",file:"index.vue",sourcesContent:["\n.CodeMirror {\n    height: 100%;\n}\n.json-editor .cm-s-rubyblue span.cm-string {\n    color: #F08047;\n}\n"],sourceRoot:""}])},487:function(e,t,a){var n=a(430);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(299)("664ae4ba",n,!0)},491:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"json-editor"},[a("textarea",{ref:"textarea"})])},staticRenderFns:[]}},522:function(e,t){e.exports=function(e){"undefined"!=typeof execScript?execScript(e):eval.call(null,e)}},537:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(121),i=a.n(n),l=a(122),o=a.n(l),r=a(416),s=a.n(r),c=a(340),u=a(120),d=[{value:"vue",label:"显示层(view-vue)"},{value:"controller",label:"控制器(controller)"},{value:"service",label:"服务层(service)"},{value:"mapper",label:"数据层(mapper)"},{value:"mapperXml",label:"数据连接(xml)"},{value:"model",label:"数据模型(model)"},{value:"modelRequest",label:"数据请求模型(modelRequest)"},{value:"modelResponse",label:"数据返回模型(modelResponse)"}];t.default={components:{jsonEditor:s.a},data:function(){return{tableQuery:{databaseName:"temp"},total:0,tableData:[],columnData:[],databaseData:[],tableLoading:!0,formTitle:null,formGeneratorVisible:!1,formVisible:!1,formSubmiting:!1,checkAll:!1,isIndeterminate:!0,checkedActions:[],createdItem:{id:null,code:null,name:null,stages:null,description:null},generatorForm:{actions:[],tableName:null,packageName:null,deletePrefix:!1},deletedForm:{id:null},jsonEditor:!1,actions:d}},mounted:function(){this.getList(),this.getDatabaseList()},methods:{getList:function(){var e=this;this.tableLoading=!0,this.$api.module.gii.index({data:this.tableQuery}).then(function(t){e.total=t.data.data.total,e.tableData=t.data.data.list,e.tableLoading=!1}).catch(function(t){e.tableLoading=!1,console.log(t)})},getDatabaseList:function(){var e=this;this.$api.module.gii.list({}).then(function(t){var a=t.data.data;e.databaseData=o()(a).map(function(e){return{value:a[e].database,label:a[e].database}})}).catch(function(e){console.log(e)})},getTableList:function(e){var t=this;this.$api.module.gii.tableList({data:{tableName:e}}).then(function(e){t.columnData=e.data.data.list}).catch(function(e){console.log(e)})},handleFilter:function(){this.getList()},handleReset:function(){this.tableQuery.limit=10,this.tableQuery.currentPage=1,this.tableQuery.name=null,this.getList()},handleSizeChange:function(e){this.tableQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.tableQuery.currentPage=e,this.getList()},handleCheckAllChange:function(e){this.checkedActions=e?d:[],this.isIndeterminate=!1},handleCheckedActionsChange:function(e){var t=e.length;this.checkAll=t===this.actions.length,this.isIndeterminate=t>0&&t<this.actions.length},clearDialog:function(){this.createdItem.id=null,this.createdItem.name=null,this.createdItem.stages=null,this.createdItem.description=null},clearGeneratorDialog:function(){this.checkedActions=[],this.generatorForm.actions=null,this.generatorForm.tableName=null,this.generatorForm.packageName=null,this.generatorForm.deletePrefix=!1},showDialog:function(e){this.formVisible=!0,this.clearDialog(),this.getTableList(e.tableName),i()(this.createdItem,e),a.i(u.a)(this.createdItem.value)&&(this.jsonEditor=!0,this.createdItem.value=JSON.parse(this.createdItem.value))},showGeneratorDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.formGeneratorVisible=!0,this.clearGeneratorDialog(),this.formTitle="选择需要生成的代码",this.generatorForm.tableName=e.tableName,console.log(this.generatorForm),console.log(e)},commitForm:function(){var e=this;this.formSubmiting=!0,this.$api.module.house.save({data:this.createdItem}).then(function(t){e.formSubmiting=!1,e.formVisible=!1,e.$notify({title:"成功",message:"保存成功",type:"success",duration:1500}),e.handleFilter(),console.log(t)}).catch(function(t){e.formSubmiting=!1,e.$notify({title:"错误",message:"保存失败",type:"error",duration:3e3}),console.log(t)})},generatorCommitForm:function(){var e=this,t=[];this.checkedActions.forEach(function(e){t.push(e.value)}),this.generatorForm.actions=t,this.$api.module.gii.generator({data:this.generatorForm}).then(function(t){e.formGeneratorVisible=!1,e.$notify({title:"成功",message:"保存成功",type:"success",duration:1500}),e.handleFilter(),console.log(t)}).catch(function(t){e.formGeneratorVisible=!1,e.$notify({title:"错误",message:"保存失败",type:"error",duration:3e3}),console.log(t)})},deleteRecord:function(e){var t=this;a.i(c.a)("数据表").then(function(){t.deletedForm.id=e,t.$api.module.house.delete({data:t.deletedForm}).then(function(e){t.$notify({title:"成功",message:"删除成功",type:"success",duration:1500}),t.handleFilter(),console.log(e)}).catch(function(e){t.formSubmiting=!1,t.$notify({title:"错误",message:"删除失败",type:"error",duration:3e3}),console.log(e)})})}}}},836:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"components-container"},[a("div",{staticClass:"filter-container"},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择数据库名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.tableQuery.databaseName,callback:function(t){e.$set(e.tableQuery,"databaseName",t)},expression:"tableQuery.databaseName"}},e._l(e.databaseData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.handleFilter}},[a("i",{staticClass:"el-icon-search"})]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleReset}},[a("i",{staticClass:"el-icon-refresh"})]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showDialog("create")}}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 新增数据库")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.tableLoading,expression:"tableLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"element-loading-text":"拼命加载中",stripe:"",border:"",fit:"","highlight-current-row":"","max-height":"500"}},[a("el-table-column",{attrs:{label:"数据表名",prop:"tableName",width:"160",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据表引擎",prop:"engine",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据表编码",prop:"tableCollation",align:"center",width:"260px"}}),e._v(" "),a("el-table-column",{attrs:{label:"表数据行数",prop:"tableRows",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据表说明",prop:"tableComment",width:"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime",align:"center",width:"180px"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"320",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return e.showGeneratorDialog(t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v(" 生成代码")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return e.showDialog(t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v(" 查看表")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.deleteRecord(t.row.id)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除表")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page.sync":"100","page-sizes":[100,200,500],"page-size":e.tableQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.formTitle,visible:e.formVisible,width:"60%"},on:{"update:visible":function(t){e.formVisible=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.tableLoading,expression:"tableLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.columnData,"element-loading-text":"拼命加载中",stripe:"",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"字段名称",prop:"columnName",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据类型",prop:"dataType",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{label:"长度",prop:"characterMaximumLength",align:"center",width:"260px"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否主键",prop:"columnKey",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{label:"说明",prop:"columnComment",align:"center"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.formVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.formSubmiting},on:{click:e.commitForm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.formTitle,visible:e.formGeneratorVisible,width:"50%"},on:{"update:visible":function(t){e.formGeneratorVisible=t}}},[a("el-form",{staticStyle:{width:"80%","margin-left":"0px"},attrs:{model:e.generatorForm,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"包名称(package)"}},[a("el-input",{attrs:{placeholder:"请填写包名称"},model:{value:e.generatorForm.packageName,callback:function(t){e.$set(e.generatorForm,"packageName",t)},expression:"generatorForm.packageName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否删除表前缀"}},[a("el-switch",{attrs:{"active-color":"#ff4949","inactive-color":"#13ce66","active-text":"删除","inactive-text":"不删除"},model:{value:e.generatorForm.deletePrefix,callback:function(t){e.$set(e.generatorForm,"deletePrefix",t)},expression:"generatorForm.deletePrefix"}})],1),e._v(" "),a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{attrs:{border:""},on:{change:e.handleCheckedActionsChange},model:{value:e.checkedActions,callback:function(t){e.checkedActions=t},expression:"checkedActions"}},e._l(e.actions,function(t){return a("el-checkbox",{key:t.value,staticStyle:{"line-height":"35px",width:"43%","margin-left":"3%"},attrs:{label:t}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.formGeneratorVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.formSubmiting},on:{click:e.generatorCommitForm}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=3.8a787539fb6d570291e5.js.map